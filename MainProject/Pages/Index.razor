@page "/"
@inject IJSRuntime JSRuntime
@inject FoodService foodService
@inject IHttpContextAccessor HttpContextAccessor
@inject NotificationService notificationService

<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top" id="navbar">
    <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a @onclick="() => ScrollToHome()" class="btn btn-link nav-link nav-home active">Home</a>
            </li>
            <li class="nav-item">
                <a @onclick="() => ScrollToInfo()" class="btn btn-link nav-link nav-info">Info</a>
            </li>
            <li class="nav-item">
                <a @onclick="() => ScrollToForm()" class="btn btn-link nav-link nav-form">Form</a>
            </li>
            <li class="nav-item">
                <a @onclick="() => ScrollToVisualization()" class="btn btn-link nav-link nav-visualization">Visualization</a>
            </li>
            <li class="nav-item">
                <a @onclick="() => ScrollToTips()" class="btn btn-link nav-link nav-tips">Tips</a>
            </li>
        </ul>
    </div>
</nav>
    <div id="home" class="content-section" style="background-color: green;">
        <h2>Home</h2>
    </div>
    <div id="info" class="content-section" style="background-color: blue;">
        <h2>Info</h2>
    </div>
    <div id="form" class="content-section">
        <RadzenTemplateForm Data="@foodFormModel" Submit="@((FoodFormModel args) => { OnSubmit(args); })">
            <RadzenRow>
                <RadzenColumn Size="3" class="rz-color-on-info-lighter rz-p-5">
                    <RadzenFieldset>
                        <HeaderTemplate>
                            <span class="d-inline-flex align-items-center align-middle">
                                <RadzenIcon Icon="spa" class="me-1" /><b>Vegetable</b>
                            </span>
                        </HeaderTemplate>
                        <ChildContent>
                            <RadzenStack Gap="1rem">
                                <RadzenRow>
                                    <RadzenDropDown @bind-Value=@foodFormModel.VegetableId Data=@vegetablesList TextProperty="FoodName" ValueProperty="FoodId" AllowClear=true Placeholder="Select vegetable" Style="width: 100%; max-width: 400px;" />
                                </RadzenRow>
                                <RadzenRow>
                                    <RadzenColumn class="centered-content" Size="2">
                                        <RadzenButton Icon="remove" ButtonStyle="ButtonStyle.Light" Click="MinusVegetable" />
                                    </RadzenColumn>
                                    <RadzenColumn class="centered-content" Size="8">
                                        <RadzenNumeric @bind-Value=@foodFormModel.VegetableAmount ShowUpDown="false"></RadzenNumeric>
                                    </RadzenColumn>
                                    <RadzenColumn class="centered-content" Size="2">
                                        <RadzenButton Icon="add" ButtonStyle="ButtonStyle.Light" Click="AddVegetable" />
                                    </RadzenColumn>
                                </RadzenRow>
                                <RadzenRow Style="justify-content: center !important;">
                                    <RadzenButton Style="width: 100%;" ButtonStyle="ButtonStyle.Success" Click="SaveVegetable">Add</RadzenButton>
                                </RadzenRow>
                            </RadzenStack>
                        </ChildContent>
                    </RadzenFieldset>
                </RadzenColumn>

                <RadzenColumn Size="3" class="rz-color-on-info-lighter rz-p-5">
                    <RadzenFieldset>
                        <HeaderTemplate>

                            <span class="d-inline-flex align-items-center align-middle">
                                <i class="fa-solid fa-pepper-hot fa-beat"></i>
                                <RadzenIcon Icon="nutrition" class="me-1" /><b>Fruits</b>
                            </span>
                        </HeaderTemplate>
                        <ChildContent>
                            <RadzenStack Gap="1rem">
                                <RadzenRow>
                                    <RadzenDropDown @bind-Value=@foodFormModel.FruitsId Data=@fruitsList TextProperty="FoodName" ValueProperty="FoodId" AllowClear=true Placeholder="Select fruit" Style="width: 100%; max-width: 400px;" />
                                </RadzenRow>
                                <RadzenRow>
                                    <RadzenColumn class="centered-content" Size="2">
                                        <RadzenButton Icon="remove" ButtonStyle="ButtonStyle.Light" Click="MinusFruits" />
                                    </RadzenColumn>
                                    <RadzenColumn class="centered-content" Size="8">
                                        <RadzenNumeric @bind-Value=@foodFormModel.FruitsAmount ShowUpDown="false"></RadzenNumeric>
                                    </RadzenColumn>
                                    <RadzenColumn class="centered-content" Size="2">
                                        <RadzenButton Icon="add" ButtonStyle="ButtonStyle.Light" Click="AddFruits" />
                                    </RadzenColumn>
                                </RadzenRow>
                                <RadzenRow Style="justify-content: center !important;">
                                    <RadzenButton Style="width: 100%;" ButtonStyle="ButtonStyle.Success">Add</RadzenButton>
                                </RadzenRow>
                            </RadzenStack>
                        </ChildContent>
                    </RadzenFieldset>
                </RadzenColumn>

                <RadzenColumn Size="3" class="rz-color-on-info-lighter rz-p-5">
                    <RadzenFieldset Text="Meat">
                        <RadzenStack Gap="1rem">
                            <RadzenRow>
                                <RadzenDropDown @bind-Value=@foodFormModel.MeatId Data=@meatList TextProperty="FoodName" ValueProperty="FoodId" AllowClear=true Placeholder="Select meat" Style="width: 100%; max-width: 400px;" />
                            </RadzenRow>
                            <RadzenRow>
                                <RadzenColumn class="centered-content" Size="2">
                                    <RadzenButton Icon="remove" ButtonStyle="ButtonStyle.Light" Click="MinusMeat" />
                                </RadzenColumn>
                                <RadzenColumn class="centered-content" Size="8">
                                    <RadzenNumeric @bind-Value=@foodFormModel.MeatAmount ShowUpDown="false"></RadzenNumeric>
                                </RadzenColumn>
                                <RadzenColumn class="centered-content" Size="2">
                                    <RadzenButton Icon="add" ButtonStyle="ButtonStyle.Light" Click="AddMeat" />
                                </RadzenColumn>
                            </RadzenRow>
                            <RadzenRow Style="justify-content: center !important;">
                                <RadzenButton Style="width: 100%;" ButtonStyle="ButtonStyle.Success">Add</RadzenButton>
                            </RadzenRow>
                        </RadzenStack>
                    </RadzenFieldset>
                </RadzenColumn>

                <RadzenColumn Size="3" class="rz-color-on-info-lighter rz-p-5">
                    <RadzenFieldset Text="Other">
                        <RadzenStack Gap="1rem">
                            <RadzenRow>
                                <RadzenDropDown @bind-Value=@foodFormModel.OtherId Data=@otherList TextProperty="FoodName" ValueProperty="FoodId" AllowClear=true Placeholder="Select product" Style="width: 100%; max-width: 400px;" />
                            </RadzenRow>
                            <RadzenRow>
                                <RadzenColumn class="centered-content" Size="2">
                                    <RadzenButton Icon="remove" ButtonStyle="ButtonStyle.Light" Click="MinusOther" />
                                </RadzenColumn>
                                <RadzenColumn class="centered-content" Size="8">
                                    <RadzenNumeric @bind-Value=@foodFormModel.OtherAmount ShowUpDown="false"></RadzenNumeric>
                                </RadzenColumn>
                                <RadzenColumn class="centered-content" Size="2">
                                    <RadzenButton Icon="add" ButtonStyle="ButtonStyle.Light" Click="AddOther" />
                                </RadzenColumn>
                            </RadzenRow>
                            <RadzenRow Style="justify-content: center !important;">
                                <RadzenButton Style="width: 100%;" ButtonStyle="ButtonStyle.Success">Add</RadzenButton>
                            </RadzenRow>
                        </RadzenStack>
                    </RadzenFieldset>
                </RadzenColumn>
            </RadzenRow>
        </RadzenTemplateForm>
    </div>
    <div id="visualization" class="content-section" style="background-color: red;">
        <h2>Visualization</h2>
    </div>
    <div id="tips" class="content-section" style="background-color: yellow;">
        <h2>Tips</h2>
    </div>


@code {
    private void ScrollToHome()
    {
        JSRuntime.InvokeVoidAsync("scrollToHome");
    }

    private void ScrollToInfo()
    {
        JSRuntime.InvokeVoidAsync("scrollToInfo");
    }

    private void ScrollToForm()
    {
        JSRuntime.InvokeVoidAsync("scrollToForm");
    }

    private void ScrollToVisualization()
    {
        JSRuntime.InvokeVoidAsync("scrollToVisualization");
    }

    private void ScrollToTips()
    {
        JSRuntime.InvokeVoidAsync("scrollToTips");
    }
}